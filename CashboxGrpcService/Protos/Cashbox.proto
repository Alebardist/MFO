syntax = "proto3";

import "google/protobuf/empty.proto";
option csharp_namespace = "CashboxGrpcService";

package CashboxGrpcService;

service Cashbox{
	rpc LogInService (LogInRequest) returns (LogInReply);
	rpc SendMoney (SendMoneyRequest) returns (SendMoneyReply);
	rpc GetBalances (google.protobuf.Empty) returns (BalancesReply);
}

message LogInRequest{
	string userName = 1;
	string userPassword = 2;
}

message LogInReply{
	enum loginResult{
		SUCCESS = 0;
		WRONG_userName_OR_userPassword = 1;
	}

	loginResult result = 1;
	string token = 2;
}

message SendMoneyRequest{
	string cardNumber = 1;
}

message SendMoneyReply{
	enum operationResult{
		OK = 0;
		ERROR = 1;
	}
	operationResult result = 1;
	string errorMessage = 2;
}

message BalanceObject{
	string id = 1;
	string storage = 2;
	float balance = 3;
}

message BalancesReply{
	repeated BalanceObject balances = 1;
}